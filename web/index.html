<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stress Detection</title>
  <script type="text/javascript" src="/eel.js"></script>

  <!-- Optional: use a clean system font stack so this file stays offline-friendly -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-overlay: rgba(8,10,23,0.48);
      --glass: rgba(255,255,255,0.06);
      --accent-start: #ff0085;
      --accent-mid: #090979;
      --accent-end: #00d4ff;
      --card-radius: 16px;
      --max-width: 980px;
      --focus: 3px;
    }

    *{box-sizing: border-box}
    html,body{height:100%;}
    body{
      margin:0;
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background-color:#071021;
      color: #fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      background-image: url("images/yes.jpg");
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    /* dim and blur the background for contrast */
    .backdrop{
      position: absolute;
      inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.6));
      pointer-events:none;
    }

    .stage{
      width: min(92vw, var(--max-width));
      margin: 0 auto;
      position: relative;
      z-index: 2;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap: 28px;
      align-items:center;
    }

    /* mobile layout */
    @media (max-width:880px){
      .stage{grid-template-columns:1fr; padding: 0 12px}
    }

    /* left info panel */
    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: var(--card-radius);
      padding: 28px 28px 32px 28px;
      backdrop-filter: blur(8px) saturate(120%);
      box-shadow: 0 6px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.04);
    }

    .brand{
      display:flex;
      gap:16px;
      align-items:center;
      margin-bottom:8px;
    }

    .logo{
      width:56px;height:56px;border-radius:12px;
      background: linear-gradient(135deg, var(--accent-start), var(--accent-mid), var(--accent-end));
      display:grid;place-items:center;font-weight:700;font-size:20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }

    h1.title{
      margin:0;font-size:28px;letter-spacing:0.6px;font-weight:700;
    }

    p.lead{
      margin:12px 0 20px 0;color:rgba(255,255,255,0.88);font-size:15px;line-height:1.5;
    }

    .features{display:flex;flex-wrap:wrap;gap:12px}
    .chip{padding:8px 12px;border-radius:999px;background:rgba(255,255,255,0.03);font-size:13px}

    /* right control card */
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.015));
      border-radius: 14px;
      padding: 28px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:18px;
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 10px 40px rgba(2,6,23,0.6);
    }

    .status{
      font-size:13px;color:rgba(255,255,255,0.7);
      text-align:center;
    }

    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      gap:10px;padding:12px 20px;border-radius:12px;border:0;cursor:pointer;
      font-weight:700;font-size:15px;line-height:1;color:white;
      background: linear-gradient(90deg,var(--accent-start), var(--accent-mid));
      box-shadow: 0 8px 24px rgba(9,9,121,0.28), 0 2px 8px rgba(0,0,0,0.45);
      transition: transform .14s ease, box-shadow .14s ease, opacity .12s ease;
    }
    .btn:active{transform: translateY(1px) scale(.998)}
    .btn:focus{outline: none; box-shadow: 0 0 0 var(--focus) rgba(0,212,255,0.12);}

    .btn.secondary{
      background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      color: #ddd; font-weight:600; box-shadow:none; border:1px solid rgba(255,255,255,0.03);
    }

    .meta{display:flex;gap:12px;align-items:center}

    /* decorative rocket / plane */
    .decor{
      width:100%;display:flex;align-items:center;gap:12px;justify-content:center;padding-top:6px
    }

    .ball {
      width:64px;height:64px;border-radius:50%;
      background: linear-gradient(135deg,var(--accent-start),var(--accent-mid),var(--accent-end));
      box-shadow: 0 12px 30px rgba(0,0,0,0.5);
      position:relative; animation: rocket 1100ms cubic-bezier(.2,.9,.2,1) infinite alternate;
    }
    .ball::after{content:"";position:absolute;inset:0;border-radius:50%;transform:scale(1.35);filter:blur(12px);opacity:.7}

    .plane{height:2px;width:100%;background:linear-gradient(90deg,var(--accent-start),var(--accent-mid),var(--accent-end));opacity:.9}

    @keyframes rocket{
      from{transform: translateY(0) scale(1.05)}
      to{transform: translateY(-28px) scale(1)}
    }

    footer{position:relative;margin-top:18px;color:rgba(255,255,255,0.65);font-size:13px;text-align:center}

    /* small accessible helper */
    .visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

  </style>
</head>
<body>
  <div class="backdrop" aria-hidden="true"></div>

  <main class="stage" role="main">

    <section class="panel" aria-labelledby="app-title">
      <div class="brand">
        <div class="logo" aria-hidden="true">SD</div>
        <div>
          <h1 id="app-title" class="title">Stress Detection</h1>
          <p class="lead">Non-invasive, lightweight stress detection — start a live session to capture data. The application preserves all original behaviour; clicking Start will call <code>eel.start()</code>.</p>
        </div>
      </div>

      <div class="features" aria-hidden="false">
        <span class="chip">Real-time</span>
        <span class="chip">Lightweight</span>
        <span class="chip">Privacy-first</span>
      </div>

      <p style="margin-top:18px;color:rgba(255,255,255,0.6);font-size:13px">Tip: Make sure your microphone/camera permissions are allowed if required by your environment.</p>

      <footer>
        <div>Built for production — clean UI, clear affordances.</div>
      </footer>
    </section>

    <aside class="card" aria-labelledby="controls-title">
      <div style="width:100%;display:flex;justify-content:space-between;align-items:center">
        <div>
          <div id="controls-title" style="font-weight:700;font-size:15px">Session</div>
          <div class="status" id="status-text">Ready</div>
        </div>

        <button class="btn secondary" id="settings" title="Settings" aria-label="Settings">
          <!-- simple settings icon -->
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V20a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06A2 2 0 1 1 2.28 18.9l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H2a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82L3.31 6.1A2 2 0 1 1 6.14 3.3l.06.06a1.65 1.65 0 0 0 1.82.33H8a1.65 1.65 0 0 0 1-1.51V2a2 2 0 1 1 4 0v.09c.13.88.6 1.65 1.37 2.07.77.42 1.66.36 2.32-.16l.06-.05A2 2 0 1 1 21.72 5.1l-.06.06a1.65 1.65 0 0 0-.33 1.82 1.65 1.65 0 0 0 1.51 1H22a2 2 0 1 1 0 4h-.09c-.86 0-1.39.55-1.51 1Z"/></svg>
        </button>
      </div>

      <div style="width:100%;display:flex;gap:12px;align-items:center;justify-content:center;margin-top:6px">
        <button id="startBtn" class="btn" onclick="start()" aria-live="polite">Start</button>
        <button id="stopBtn" class="btn secondary" onclick="stop()" aria-live="polite">Stop</button>
      </div>

      <div class="decor" aria-hidden="true">
        <div class="ball"></div>
      </div>

    </aside>

  </main>

  <script>
    // Keep original behaviour: call eel.start() when Start is clicked.
    function start(){
      // update status quickly for better UX; original eel.start() still runs
      const status = document.getElementById('status-text');
      status.textContent = 'Starting...';
      try{
        if(window.eel && typeof window.eel.start === 'function'){
          window.eel.start();
        } else {
          // fallback for development without eel: emit console warning
          console.warn('eel.start not available in this environment');
          setTimeout(()=> status.textContent = 'Ready', 800);
        }
      }catch(e){
        console.error(e);
        status.textContent = 'Error';
      }
    }

    function stop(){
      const status = document.getElementById('status-text');
      status.textContent = 'Stopped';
      try{
        if(window.eel && typeof window.eel.stop === 'function'){
          window.eel.stop();
        }
      }catch(e){console.warn(e)}
    }

    // Improve progressive enhancement: keyboard support
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter') document.getElementById('startBtn').click();
      if(e.key === 'Escape') document.getElementById('stopBtn').click();
    });
  </script>
</body>
</html>
